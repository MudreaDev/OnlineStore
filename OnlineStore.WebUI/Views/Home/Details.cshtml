@model OnlineStore.Domain.Entities.Product
@using OnlineStore.Domain.Entities

@{
    ViewData["Title"] = Model.Name;
}

<div class="product-details-page">
    <div class="container">
        <div class="back-link">
            <a asp-action="Index" class="btn-back">‚Üê Back to Shop</a>
        </div>

        <div class="details-grid">
            <div class="details-image-section">
                <div class="large-image-placeholder">
                    @if (Model is ElectronicProduct)
                    {
                        <span>üîå</span>
                    }
                    else if (Model is ClothingProduct)
                    {
                        <span>üëï</span>
                    }
                    else if (Model is VehicleProduct)
                    {
                        <span>üöó</span>
                    }
                    else
                    {
                        <span>üì¶</span>
                    }
                </div>
            </div>

            <div class="details-content-section">
                <span class="details-category">@Model.GetType().Name.Replace("Product", "")</span>
                <h1 class="details-title">@Model.Name</h1>
                <div class="details-price">@Model.Price.ToString("C")</div>

                <div class="details-description mt-4">
                    <h3>Description</h3>
                    <p>@Model.GetDescription()</p>
                </div>

                <div class="details-specs mt-4">
                    <h3>Specifications</h3>
                    <ul class="spec-list">
                        @if (Model is ElectronicProduct electroDet)
                        {
                            <li><strong>Warranty:</strong> @electroDet.WarrantyMonths months</li>
                        }
                        else if (Model is ClothingProduct clothingDet)
                        {
                            <li><strong>Size:</strong> @(string.IsNullOrEmpty(clothingDet.Size) ? "Standard" :
                            clothingDet.Size)</li>
                            <li><strong>Material:</strong> @(string.IsNullOrEmpty(clothingDet.Material) ? "Unknown" :
                            clothingDet.Material)</li>
                        }
                        else if (Model is VehicleProduct vehicleDet)
                        {
                            <li><strong>Brand:</strong> @vehicleDet.Brand</li>
                            <li><strong>Model:</strong> @vehicleDet.Model</li>
                            <li><strong>Year:</strong> @vehicleDet.Year</li>
                        }
                    </ul>
                </div>

                <div class="details-actions mt-4">
                    <form asp-controller="Cart" asp-action="Add" asp-route-id="@Model.Id" method="post">
                        <button type="submit" class="btn-add-large">Add to Shopping Cart</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
    .product-details-page {
        padding-top: 2rem;
    }

    .back-link {
        margin-bottom: 2rem;
    }

    .btn-back {
        color: var(--light-text);
        font-weight: 500;
        transition: color 0.2s;
    }

    .btn-back:hover {
        color: var(--primary-color);
    }

    .details-grid {
        display: grid;
        grid-template-columns: 1fr;
        gap: 3rem;
    }

    .large-image-placeholder {
        background: #f3f4f6;
        height: 400px;
        border-radius: 24px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 8rem;
    }

    .details-category {
        text-transform: uppercase;
        letter-spacing: 0.1em;
        color: var(--accent-color);
        font-weight: 700;
        font-size: 0.8rem;
    }

    .details-title {
        font-size: 2.5rem;
        font-weight: 800;
        margin: 0.5rem 0;
        color: var(--primary-color);
    }

    .details-price {
        font-size: 2rem;
        font-weight: 700;
        color: var(--primary-color);
    }

    .details-description h3,
    .details-specs h3 {
        font-size: 1.125rem;
        font-weight: 700;
        margin-bottom: 1rem;
        border-bottom: 1px solid var(--border-color);
        padding-bottom: 0.5rem;
    }

    .spec-list li {
        margin-bottom: 0.5rem;
        color: var(--light-text);
    }

    .btn-add-large {
        background: var(--primary-color);
        color: white;
        border: none;
        padding: 1.25rem 2.5rem;
        border-radius: 12px;
        font-weight: 600;
        font-size: 1.125rem;
        cursor: pointer;
        width: 100%;
        transition: all 0.2s;
    }

    .btn-add-large:hover {
        background: #000;
        transform: translateY(-2px);
        box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
    }

    @media(min-width:768px) {
        .details-grid {
            grid-template-columns: 1fr 1fr;
        }
    }
</style>
